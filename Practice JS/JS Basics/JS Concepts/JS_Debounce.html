<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <input type="text" name="search" id="search" onkeyup="optimizedFunc()" />
    <script>
      // Debouncing in JS
      // call an API and fetches data
      let counter = 0;
      const getData = () => {
        console.log(`fetching the data...${counter++}`);
      };

      // We need to optimize the above code so that it will not make a API call for every letter typed.
      const debounceFunc = function (func, delay) {
        let timer;
        return function () {
          clearTimeout(timer);
          // It is required to stop and again call this method. To do so we clear the timeout.
          timer = setTimeout(func, delay);
        };
      };

      // Capture the debounce func into optimizedFunc, use optimizedFunc on HTML
      const optimizedFunc = debounceFunc(getData, 2000);
      /*
      Debouncing is a programming technique that limits the number of times a function is called within
      a specific time period.This can be useful for preventing a function from being called too
      frequently, which can improve performance and avoid unnecessary CPU cycles.
      
      For example, imagine you have a function that is called every time the user types a key in a search
      box.
      If this function is called too frequently, it can make the browser feel sluggish and unresponsive. 
      Debouncing can help to improve the performance of your application by preventing the function from 
      being called too often.
      */
    </script>
  </body>
</html>
